{"ast":null,"code":"import _slicedToArray from\"/workspace/Admin_User_Interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import\"./App.css\";import Pagination from\"./components/Pagination/Page\";import UsersList from\"./components/UsersList/UsersListComponent\";import config from\"./constants\";import{getUsers}from\"./services/MembersDetail\";import{getRecordIndex}from\"./utilities/PageOperation\";import{searchInUsers}from\"./utilities/SearchOperation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var selectAllRef=useRef(null);useEffect(function(){getUsers(setUsers);},[]);var searchUsers=function searchUsers(e){setPage(1);setUsers(searchInUsers(e.target.value,users));};var deleteUser=function deleteUser(id){var tempUsers=users.filter(function(user){return user.id!==id;});setUsers(tempUsers);setUpdate(function(prevState){return!prevState;});};var editUser=function editUser(id){var tempUsers=users;var index=tempUsers.findIndex(function(user){return user.id===id;});tempUsers[index].edit=true;setUsers(tempUsers);setUpdate(function(prevState){return!prevState;});};var saveUser=function saveUser(id,nameRef,emailRef,roleRef){var tempUsers=users;var index=tempUsers.findIndex(function(user){return user.id===id;});tempUsers[index].name=nameRef.current.value;tempUsers[index].email=emailRef.current.value;tempUsers[index].role=roleRef.current.value;tempUsers[index].edit=false;setUsers(tempUsers);setUpdate(function(prevState){return!prevState;});};var selectOne=function selectOne(id){var tempUsers=users;var index=tempUsers.findIndex(function(user){return user.id===id;});tempUsers[index].selected=!tempUsers[index].selected;setUsers(tempUsers);setUpdate(function(prevState){return!prevState;});};var selectAll=function selectAll(e){var listedUserIds=users.filter(function(user){return user.show;}).slice(index,index+config.PAGE_SIZE).map(function(user){return user.id;});var tempUsers=users.map(function(user){if(listedUserIds.includes(user.id)){user.selected=e.target.checked;return user;}return user;});setUsers(tempUsers);setUpdate(!update);};var deleteSelected=function deleteSelected(){if(window.confirm(\"Selected users will be deleted\")){setUsers(function(prevState){return prevState.filter(function(user){return!user.selected;});});selectAllRef.current.checked=false;}};var index=getRecordIndex(page);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search\",type:\"text\",placeholder:\"Search by name, email or role\",onChange:searchUsers}),/*#__PURE__*/_jsx(UsersList,{page:page,setPage:setPage,selectAll:selectAll,selectAllRef:selectAllRef,selectOne:selectOne,saveUser:saveUser,editUser:editUser,deleteUser:deleteUser,users:users.filter(function(user){return user.show;}).slice(index,index+config.PAGE_SIZE)}),/*#__PURE__*/_jsx(Pagination,{usersLength:users.filter(function(user){return user.show;}).length,page:page,setPage:setPage,deleteSelected:deleteSelected})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","Pagination","UsersList","config","getUsers","getRecordIndex","searchInUsers","App","users","setUsers","update","setUpdate","page","setPage","selectAllRef","searchUsers","e","target","value","deleteUser","id","tempUsers","filter","user","prevState","editUser","index","findIndex","edit","saveUser","nameRef","emailRef","roleRef","name","current","email","role","selectOne","selected","selectAll","listedUserIds","show","slice","PAGE_SIZE","map","includes","checked","deleteSelected","window","confirm","length"],"sources":["/workspace/Admin_User_Interface/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nimport \"./App.css\";\nimport Pagination from \"./components/Pagination/Page\";\nimport UsersList from \"./components/UsersList/UsersListComponent\";\nimport config from \"./constants\";\nimport { getUsers } from \"./services/MembersDetail\";\nimport { getRecordIndex } from \"./utilities/PageOperation\";\nimport { searchInUsers } from \"./utilities/SearchOperation\";\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [page, setPage] = useState(1);\n  const selectAllRef = useRef(null);\n  useEffect(() => {\n    getUsers(setUsers);\n  }, []);\n\n  const searchUsers = (e) => {\n    setPage(1);\n    setUsers(searchInUsers(e.target.value, users));\n  };\n\n  const deleteUser = (id) => {\n    let tempUsers = users.filter((user) => user.id !== id);\n    setUsers(tempUsers);\n    setUpdate((prevState) => !prevState);\n  };\n\n  const editUser = (id) => {\n    let tempUsers = users;\n    const index = tempUsers.findIndex((user) => user.id === id);\n    tempUsers[index].edit = true;\n    setUsers(tempUsers);\n    setUpdate((prevState) => !prevState);\n  };\n\n  const saveUser = (id, nameRef, emailRef, roleRef) => {\n    let tempUsers = users;\n    const index = tempUsers.findIndex((user) => user.id === id);\n    tempUsers[index].name = nameRef.current.value;\n    tempUsers[index].email = emailRef.current.value;\n    tempUsers[index].role = roleRef.current.value;\n    tempUsers[index].edit = false;\n    setUsers(tempUsers);\n    setUpdate((prevState) => !prevState);\n  };\n\n  const selectOne = (id) => {\n    let tempUsers = users;\n    const index = tempUsers.findIndex((user) => user.id === id);\n    tempUsers[index].selected = !tempUsers[index].selected;\n    setUsers(tempUsers);\n    setUpdate((prevState) => !prevState);\n  };\n\n  const selectAll = (e) => {\n    const listedUserIds = users\n      .filter((user) => user.show)\n      .slice(index, index + config.PAGE_SIZE)\n      .map((user) => user.id);\n\n    let tempUsers = users.map((user) => {\n      if (listedUserIds.includes(user.id)) {\n        user.selected = e.target.checked;\n        return user;\n      }\n      return user;\n    });\n\n    setUsers(tempUsers);\n    setUpdate(!update);\n  };\n\n  const deleteSelected = () => {\n    if (window.confirm(\"Selected users will be deleted\")) {\n      setUsers((prevState) => prevState.filter((user) => !user.selected));\n      selectAllRef.current.checked = false;\n    }\n  };\n\n  const index = getRecordIndex(page);\n  return (\n    <div className=\"App\">\n      <input\n        className=\"search\"\n        type=\"text\"\n        placeholder=\"Search by name, email or role\"\n        onChange={searchUsers}\n      ></input>\n      <UsersList\n        page={page}\n        setPage={setPage}\n        selectAll={selectAll}\n        selectAllRef={selectAllRef}\n        selectOne={selectOne}\n        saveUser={saveUser}\n        editUser={editUser}\n        deleteUser={deleteUser}\n        users={users\n          .filter((user) => user.show)\n          .slice(index, index + config.PAGE_SIZE)}\n      ></UsersList>\n      <Pagination\n        usersLength={users.filter((user) => user.show).length}\n        page={page}\n        setPage={setPage}\n        deleteSelected={deleteSelected}\n      ></Pagination>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}